{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Filter","filter","setNewFilter","value","onChange","event","target","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","onDeleteClick","name","number","onClick","window","confirm","Persons","persons","filterValue","toUpperCase","includes","map","Notification","message","text","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","newFilter","setMessage","useEffect","initialPersons","preventDefault","some","p","personToUpdate","find","updatedPerson","returnedPerson","setTimeout","catch","error","updatePerson","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d48c81a3.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'https://quiet-woodland-51906.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst personService = { getAll, create, update, remove }\nexport default personService","import React from 'react'\n\nconst Filter = ({ filter, setNewFilter }) => {\n\n    const handleFilterChange = (event) => {\n        setNewFilter(event.target.value)\n    }\n\n    return (\n        <div>\n            filter shown with <input value={filter} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n  export default PersonForm","import React from 'react'\n\nconst Person = ({ person, onDeleteClick }) => {\n    const removePerson = () => {\n      if (window.confirm(`Delete ${person.name} ?`)) {\n        onDeleteClick(person.id)\n      }\n  \n    }\n  \n    return (\n      <p>{person.name} {person.number} <button onClick={removePerson} >Delete</button></p>\n    )\n  }\n\n  export default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filterValue, onDeleteClick }) => {\n    const personsToShow = persons.filter(person => person.name.toUpperCase().includes(filterValue.toUpperCase()))\n  \n    return (\n      personsToShow.map(person =>\n        <Person key={person.id} person={person} onDeleteClick={onDeleteClick} />\n      )\n    )\n  }\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if ((message === null) || (!message.text)) {\n    return null\n  }\n\n  const infoNotificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  const errorNotificationStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n\n\n  return (\n    <div style={(message.type==='error') ? errorNotificationStyle : infoNotificationStyle} >\n      {message.text}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState({text: '', type: ''})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const removePersonWithId = (id) => {\n\n    personService\n      .remove(id)\n      .then(setPersons(persons.filter(p => p.id !== id)))\n  }\n\n  const updatePerson = (id, updatedPerson) => {\n    personService\n      .update(id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage({type: 'info', text:`${returnedPerson.name}'s number was updated`})\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }\n      )\n      .catch(error => {\n        setMessage({type: 'error', text:`Information of ${updatedPerson.name} has already been removed from server`})\n        setPersons(persons.filter(p => p.id !== id))\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n\n\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(p => p.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(p => p.name === newName)\n        const id = personToUpdate.id\n        const updated = { ...personToUpdate, number: newNumber }\n\n        updatePerson(id, updated)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage({type: 'info', text:`Added ${returnedPerson.name}`})\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n      \n      <Filter filter={newFilter} setNewFilter={setNewFilter} />\n\n      <h3>add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n\n\n      <h3>Numbers</h3>\n\n      <Persons persons={persons} filterValue={newFilter} onDeleteClick={removePersonWithId} />\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}